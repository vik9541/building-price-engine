# üîó –°–•–ï–ú–ê –î–ê–ù–ù–´–•: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø API –ò –ü–û–õ–Ø –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê
# API Data Schema & Product Analysis System

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 11.01.2026  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üéØ –¶–ï–õ–¨

–û–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è:
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç API**
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å E-Catalog API**
3. **–•—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ë–î**
4. **–ê–Ω–∞–ª–∏–∑–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ —Å –ò–ò**
5. **–ü–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤ –∏ —á–µ—Ä—Ç–µ–∂–µ–π**

---

## üìä –Ø–ù–î–ï–ö–°.–ú–ê–†–ö–ï–¢ API - –ü–û–õ–Ø –¢–û–í–ê–†–ê

### –≠–Ω–¥–ø–æ–∏–Ω—Ç: POST /businesses/{businessId}/offer-mappings/update

```json
{
  "offers": [
    {
      "offerId": "SKU-12345",                    // –ù–∞—à –∞—Ä—Ç–∏–∫—É–ª
      "name": "–ö–∏—Ä–ø–∏—á –æ–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π",  // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
      "description": "–ö–∏—Ä–ø–∏—á –æ–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π...",  // –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
      "categoryId": 90411,                       // –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ø–Ω–¥–µ–∫—Å–∞
      "pictures": [                              // –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
        {
          "url": "https://cdn.example.com/1.jpg",
          "width": 1024,
          "height": 768
        }
      ],
      "price": {
        "value": 2500,                           // –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
        "currency": "RUR"
      },
      "oldPrice": 2800,                          // –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞
      "enable": true,                            // –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ç–æ–≤–∞—Ä
      "barcode": ["4607083131623"],              // –®—Ç—Ä–∏—Ö–∫–æ–¥—ã
      "cpa": "real",                             // –¢–∏–ø: real/fbo/fbp
      
      // –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–û–õ–Ø –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê
      "parameterValues": [
        {
          "parameterId": 10001,
          "name": "–ú–∞—Ç–µ—Ä–∏–∞–ª",
          "value": "–ö—Ä–∞—Å–Ω—ã–π –∫–∏—Ä–ø–∏—á"
        },
        {
          "parameterId": 10002,
          "name": "–†–∞–∑–º–µ—Ä",
          "value": "250x120x65 –º–º"
        },
        {
          "parameterId": 10003,
          "name": "–ú–∞—Ä–∫–∞",
          "value": "–ú150"
        },
        {
          "parameterId": 10004,
          "name": "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å",
          "value": "–û–ê–û –ö–∏—Ä–ø–∏—á–Ω—ã–π –∑–∞–≤–æ–¥"
        },
        {
          "parameterId": 10005,
          "name": "–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è",
          "value": "BR-250-RED-M150"
        },
        {
          "parameterId": 10006,
          "name": "–í–µ—Å",
          "value": "3.2 –∫–≥"
        },
        {
          "parameterId": 10007,
          "name": "–ü—Ä–æ—á–Ω–æ—Å—Ç—å",
          "value": "150 –∫–≥—Å/—Å–º¬≤"
        },
        {
          "parameterId": 10008,
          "name": "–ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å",
          "value": "35 —Ü–∏–∫–ª–æ–≤"
        },
        {
          "parameterId": 10009,
          "name": "–í–æ–¥–æ–ø–æ–≥–ª–æ—â–µ–Ω–∏–µ",
          "value": "8-10%"
        },
        {
          "parameterId": 10010,
          "name": "–ì–æ—Å—Ç",
          "value": "–ì–û–°–¢ 530-2012"
        }
      ],
      
      // –ú–ê–†–ö–ï–¢–ò–ù–ì–û–í–´–ï –ü–ê–†–ê–ú–ï–¢–†–´
      "biddingData": {
        "marketBidderFeePercent": 8.0,          // –ö–æ–º–∏—Å—Å–∏—è –Ø–Ω–¥–µ–∫—Å–∞
        "minimalAdvertiserBidPercent": 0.5
      },
      
      // –î–û–°–¢–ê–í–ö–ê
      "delivery": {
        "type": "STANDARD",                     // STANDARD/EXPRESS/PICKUP
        "weight": "3200g",                      // –í–µ—Å —Å —É–ø–∞–∫–æ–≤–∫–æ–π
        "dimensions": "250x120x65 mm"           // –†–∞–∑–º–µ—Ä—ã
      },
      
      // –ù–ê–õ–ò–ß–ò–ï
      "status": "ACTIVE",                       // ACTIVE/INACTIVE/ARCHIVED
      "stock": {
        "warehouseId": 1,
        "count": 500                             // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ
      }
    }
  ]
}
```

---

## üåç E-CATALOG API - –ü–û–õ–Ø –¢–û–í–ê–†–ê

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å: GET /api/products

```json
{
  "id": "ECT-567890",                          // ID –≤ E-Catalog
  "sku": "SKU-12345",                          // –ê—Ä—Ç–∏–∫—É–ª
  "name": "–ö–∏—Ä–ø–∏—á –æ–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π 250x120x65 –º150",
  "description": "–ö—Ä–∞—Å–Ω—ã–π –æ–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π –∫–∏—Ä–ø–∏—á. –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω...",
  "url": "https://e-catalog.ru/product/ECT-567890",
  
  // –ö–ê–¢–ï–ì–û–†–ò–ó–ê–¶–ò–Ø
  "categories": [
    {
      "id": 10043,
      "name": "–ö–∏—Ä–ø–∏—á –∏ –±–ª–æ–∫–∏",
      "path": "–°—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã > –ö–∏—Ä–ø–∏—á –∏ –±–ª–æ–∫–∏ > –û–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π"
    }
  ],
  
  // –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨
  "manufacturer": {
    "id": "MFR-5432",
    "name": "–û–ê–û –ö–∏—Ä–ø–∏—á–Ω—ã–π –∑–∞–≤–æ–¥",
    "country": "–†–æ—Å—Å–∏—è",
    "website": "https://kirov-kirpich.ru",
    "catalogNumber": "BR-250-RED-M150",        // –ö–∞—Ç–∞–ª–æ–∂–Ω—ã–π –Ω–æ–º–µ—Ä
    "catalogUrl": "https://kirov-kirpich.ru/catalog/br-250-red-m150.pdf"
  },
  
  // –¶–ï–ù–´
  "prices": [
    {
      "retailer": "–ü–µ—Ç—Ä–æ–≤–∏—á",
      "price": 24.50,
      "currency": "RUB",
      "updated": "2026-01-11T10:30:00Z"
    },
    {
      "retailer": "Leroy Merlin",
      "price": 26.00,
      "currency": "RUB",
      "updated": "2026-01-11T11:00:00Z"
    }
  ],
  
  // –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï)
  "attributes": {
    "material": "–ö–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –∫–∏—Ä–ø–∏—á",
    "color": "–ö—Ä–∞—Å–Ω—ã–π",
    "size": "250x120x65 –º–º",
    "weight": "3200 –≥",
    "brand": "–ö–∏—Ä–ø–∏—á-–ú",
    
    // –§–ò–ó–ò–ß–ï–°–ö–ò–ï –°–í–û–ô–°–¢–í–ê
    "physical": {
      "length": {"value": 250, "unit": "mm"},
      "width": {"value": 120, "unit": "mm"},
      "height": {"value": 65, "unit": "mm"},
      "weight": {"value": 3200, "unit": "g"},
      "volume": {"value": 1.95, "unit": "dm¬≥"}
    },
    
    // –ú–ï–•–ê–ù–ò–ß–ï–°–ö–ò–ï –°–í–û–ô–°–¢–í–ê
    "mechanical": {
      "compressiveStrength": {"value": 150, "unit": "kgf/cm¬≤"},  // –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Å–∂–∞—Ç–∏–µ
      "bendingStrength": {"value": 12, "unit": "kgf/cm¬≤"},       // –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ –∏–∑–≥–∏–±
      "hardness": {"value": 8, "unit": "scale"},                 // –¢–≤—ë—Ä–¥–æ—Å—Ç—å –ø–æ –ú–æ—Å—É
      "tensileStrength": {"value": 8, "unit": "kgf/cm¬≤"}         // –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ
    },
    
    // –í–û–î–ù–´–ï –ò –¢–ï–ü–õ–û–í–´–ï –°–í–û–ô–°–¢–í–ê
    "thermalProperties": {
      "waterAbsorption": {"value": 9, "unit": "%"},              // –í–æ–¥–æ–ø–æ–≥–ª–æ—â–µ–Ω–∏–µ
      "thermalConductivity": {"value": 0.66, "unit": "W/mK"},   // –¢–µ–ø–ª–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å
      "heatCapacity": {"value": 840, "unit": "J/kg¬∑K"},         // –£–¥–µ–ª—å–Ω–∞—è —Ç–µ–ø–ª–æ—ë–º–∫–æ—Å—Ç—å
      "frostResistance": {"value": 35, "unit": "cycles"}        // –ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å
    },
    
    // –°–¢–ê–ù–î–ê–†–¢–´ –ò –°–ï–†–¢–ò–§–ò–ö–ê–¢–´
    "standards": [
      "–ì–û–°–¢ 530-2012",
      "–ì–û–°–¢ 7484-78",
      "–°–ù–∏–ü II-22-81"
    ],
    "certificates": [
      {
        "name": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∫–∞—á–µ—Å—Ç–≤–∞",
        "number": "RU.0001.11–ü–ó15",
        "date": "2024-01-15",
        "validity": "2027-01-15"
      }
    ]
  },
  
  // –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø –ò –ú–ï–î–ò–ê
  "media": {
    "images": [
      {
        "url": "https://e-catalog.ru/images/ECT-567890/main.jpg",
        "type": "main",
        "width": 1024,
        "height": 768
      },
      {
        "url": "https://e-catalog.ru/images/ECT-567890/detail1.jpg",
        "type": "detail"
      }
    ],
    "drawings": [                                // –ß–ï–†–¢–ï–ñ–ò
      {
        "url": "https://e-catalog.ru/docs/ECT-567890/drawing.pdf",
        "type": "technical_drawing",
        "format": "PDF",
        "description": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —á–µ—Ä—Ç—ë–∂"
      },
      {
        "url": "https://e-catalog.ru/docs/ECT-567890/3d_model.stp",
        "type": "3d_model",
        "format": "STEP",
        "description": "3D –º–æ–¥–µ–ª—å –¥–ª—è CAD"
      }
    ],
    "documents": [                               // –î–û–ö–£–ú–ï–ù–¢–´
      {
        "url": "https://e-catalog.ru/docs/ECT-567890/catalog.pdf",
        "type": "catalog",
        "description": "–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è"
      },
      {
        "url": "https://e-catalog.ru/docs/ECT-567890/datasheet.pdf",
        "type": "datasheet",
        "description": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∞—Å–ø–æ—Ä—Ç"
      }
    ]
  },
  
  // –°–¢–ê–¢–£–° –ò –ú–ï–¢–ê–î–ê–ù–ù–´–ï
  "status": "active",                          // active/inactive/discontinued
  "trustLevel": 3,                              // 1/2/3 —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è
  "lastUpdated": "2026-01-11T11:00:00Z",
  "dataSource": "yandex_market_api"            // –û—Ç–∫—É–¥–∞ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ
}
```

---

## üóÑÔ∏è –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ë–î –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê

### –¢–∞–±–ª–∏—Ü–∞: products_extended_specs

```sql
CREATE TABLE products_extended_specs (
  id SERIAL PRIMARY KEY,
  product_id INT REFERENCES products(id),
  
  -- –§–ò–ó–ò–ß–ï–°–ö–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´
  length_mm FLOAT,                              -- –î–ª–∏–Ω–∞
  width_mm FLOAT,                               -- –®–∏—Ä–∏–Ω–∞
  height_mm FLOAT,                              -- –í—ã—Å–æ—Ç–∞
  weight_kg FLOAT,                              -- –í–µ—Å
  volume_dm3 FLOAT,                             -- –û–±—ä—ë–º
  density_kg_m3 FLOAT,                          -- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å
  
  -- –ú–ï–•–ê–ù–ò–ß–ï–°–ö–ò–ï –°–í–û–ô–°–¢–í–ê
  compressive_strength_kgf_cm2 FLOAT,           -- –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Å–∂–∞—Ç–∏–µ
  bending_strength_kgf_cm2 FLOAT,               -- –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ –∏–∑–≥–∏–±
  tensile_strength_kgf_cm2 FLOAT,               -- –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ
  hardness_mohs FLOAT,                          -- –¢–≤—ë—Ä–¥–æ—Å—Ç—å –ø–æ –ú–æ—Å—É
  toughness_value FLOAT,                        -- –í—è–∑–∫–æ—Å—Ç—å
  
  -- –¢–ï–ü–õ–û–í–´–ï –°–í–û–ô–°–¢–í–ê
  thermal_conductivity_w_mk FLOAT,              -- –¢–µ–ø–ª–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å
  heat_capacity_j_kg_k FLOAT,                   -- –£–¥–µ–ª—å–Ω–∞—è —Ç–µ–ø–ª–æ—ë–º–∫–æ—Å—Ç—å
  melting_point_celsius INT,                    -- –¢–æ—á–∫–∞ –ø–ª–∞–≤–ª–µ–Ω–∏—è
  thermal_expansion_coef FLOAT,                 -- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–ø–ª–æ–≤–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
  
  -- –í–û–î–ù–´–ï –°–í–û–ô–°–¢–í–ê
  water_absorption_percent FLOAT,               -- –í–æ–¥–æ–ø–æ–≥–ª–æ—â–µ–Ω–∏–µ
  water_resistance_rating INT,                  -- –†–µ–π—Ç–∏–Ω–≥ –≤–æ–¥–æ—Å—Ç–æ–π–∫–æ—Å—Ç–∏ (1-5)
  frost_resistance_cycles INT,                  -- –ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å (—Ü–∏–∫–ª—ã)
  
  -- –•–ò–ú–ò–ß–ï–°–ö–ò–ï –°–í–û–ô–°–¢–í–ê
  chemical_composition JSONB,                   -- JSON {element: percent, ...}
  acid_resistance FLOAT,                        -- –ö–∏—Å–ª–æ—Ç–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å
  alkali_resistance FLOAT,                      -- –©–µ–ª–æ—á–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å
  
  -- –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø –ò –°–¢–ê–ù–î–ê–†–¢–´
  gost_standard VARCHAR(50),                    -- –ì–û–°–¢
  snip_standard VARCHAR(50),                    -- –°–ù–∏–ü
  iso_standard VARCHAR(50),                     -- ISO
  fire_rating VARCHAR(20),                      -- –ö–ª–∞—Å—Å –ø–æ–∂–∞—Ä–Ω–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  environmental_class VARCHAR(10),              -- –ö–ª–∞—Å—Å —ç–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç–∏ (A/B/C)
  
  -- –í–ù–ï–®–ù–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´
  color_hex VARCHAR(7),                         -- –¶–≤–µ—Ç (hex)
  surface_finish VARCHAR(100),                  -- –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
  texture_type VARCHAR(100),                    -- –¢–µ–∫—Å—Ç—É—Ä–∞
  
  -- –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø
  min_temperature_celsius INT,                  -- –ú–∏–Ω. —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  max_temperature_celsius INT,                  -- –ú–∞–∫—Å. —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  humidity_min_percent FLOAT,                   -- –ú–∏–Ω. –≤–ª–∞–∂–Ω–æ—Å—Ç—å
  humidity_max_percent FLOAT,                   -- –ú–∞–∫—Å. –≤–ª–∞–∂–Ω–æ—Å—Ç—å
  indoor_outdoor_suitable VARCHAR(20),          -- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (indoor/outdoor/both)
  
  -- –°–ï–†–¢–ò–§–ò–ö–ê–¶–ò–Ø –ò –ö–ê–ß–ï–°–¢–í–û
  quality_grade VARCHAR(50),                    -- –°–æ—Ä—Ç (–≤—ã—Å—à–∏–π, 1, 2)
  certification_date DATE,                      -- –î–∞—Ç–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  certification_valid_until DATE,               -- –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ
  test_results_available BOOLEAN,               -- –ï—Å—Ç—å –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—ã—Ç–∞–Ω–∏–π
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞: products_technical_documents

```sql
CREATE TABLE products_technical_documents (
  id SERIAL PRIMARY KEY,
  product_id INT REFERENCES products(id),
  
  document_type VARCHAR(50),                    -- catalog/datasheet/drawing/manual/test_report/3d_model
  document_name VARCHAR(500),                   -- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  document_url VARCHAR(1000),                   -- URL –¥–æ–∫—É–º–µ–Ω—Ç–∞
  file_format VARCHAR(20),                      -- PDF/DWG/STP/JPG/PNG
  file_size_mb FLOAT,                           -- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
  
  -- –ß–ï–†–¢–Å–ñ–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´
  has_drawing BOOLEAN,                          -- –ï—Å—Ç—å –ª–∏ —á–µ—Ä—Ç—ë–∂
  drawing_url VARCHAR(1000),                    -- URL —á–µ—Ä—Ç–µ–∂–∞
  drawing_scale VARCHAR(50),                    -- –ú–∞—Å—à—Ç–∞–± (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω)
  drawing_dpi INT,                              -- –ö–∞—á–µ—Å—Ç–≤–æ (DPI)
  
  -- 3D –ú–û–î–ï–õ–ò
  has_3d_model BOOLEAN,                         -- –ï—Å—Ç—å –ª–∏ 3D –º–æ–¥–µ–ª—å
  model_3d_url VARCHAR(1000),                   -- URL 3D –º–æ–¥–µ–ª–∏
  model_3d_format VARCHAR(20),                  -- STEP/IGES/STL/OBJ/FBX
  model_3d_interactive BOOLEAN,                 -- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ª–∏ –º–æ–¥–µ–ª—å
  
  -- –ü–†–û–í–ï–†–ö–ê –ò –í–ê–õ–ò–î–ê–¶–ò–Ø
  document_verified BOOLEAN,                    -- –ü—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç
  verified_date DATE,                           -- –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
  verification_notes TEXT,                      -- –ó–∞–º–µ—Ç–∫–∏ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
  
  -- –ü–û–ò–°–ö –ò –ò–ù–î–ï–ö–°–ê–¶–ò–Ø
  searchable_text TEXT,                         -- –¢–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ (–µ—Å–ª–∏ –∏–∑–≤–ª–µ—á—ë–Ω)
  language VARCHAR(2),                          -- –Ø–∑—ã–∫ (ru/en)
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞: products_ai_analysis

```sql
CREATE TABLE products_ai_analysis (
  id SERIAL PRIMARY KEY,
  product_id INT REFERENCES products(id),
  
  -- –ê–ù–ê–õ–ò–ó –û–ü–ò–°–ê–ù–ò–Ø –° –ò–ò
  ai_extracted_features TEXT,                   -- –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –ò–ò –ø—Ä–∏–∑–Ω–∞–∫–∏
  ai_quality_score FLOAT,                       -- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–ø–∏—Å–∞–Ω–∏—è (0-100)
  ai_completeness_score FLOAT,                  -- –ü–æ–ª–Ω–æ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0-100)
  ai_accuracy_score FLOAT,                      -- –¢–æ—á–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0-100)
  
  -- –ê–ù–ê–õ–û–ì–ò –ò –ü–û–•–û–ñ–ï–°–¢–¨
  similar_products JSONB,                       -- [{id, similarity_score}, ...]
  
  -- –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ó–ê–ú–ï–ù–´
  analogs_suggested JSONB,                      -- [{product_id, reason, confidence}, ...]
  
  -- –ü–†–û–í–ï–†–ö–ê –ù–ê –ü–û–î–û–ó–†–ò–¢–ï–õ–¨–ù–û–°–¢–¨
  suspicious_flags JSONB,                       -- [{flag, description}, ...]
  is_possible_fake BOOLEAN,                     -- –í–æ–∑–º–æ–∂–Ω–æ –ª–∏ –ø–æ–¥–¥–µ–ª–∫–∞
  is_discontinued BOOLEAN,                      -- –°–Ω—è—Ç–æ –ª–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
  
  -- –ò–ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
  price_recommendation FLOAT,                   -- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ü–µ–Ω–∞
  marketing_description_ai TEXT,                -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  seo_keywords JSONB,                           -- ["keyword1", "keyword2", ...]
  
  -- –ò–°–¢–û–†–ò–Ø –ê–ù–ê–õ–ò–ó–ê
  last_analysis_date TIMESTAMP,                 -- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  analysis_count INT DEFAULT 1,                 -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–æ–≤
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

---

## üé® –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–• –¢–û–í–ê–†–ê

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –¢–û–í–ê–† (Product)                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  –ë–ê–ó–û–í–´–ï –ü–û–õ–Ø                   –î–ê–ù–ù–´–ï –Ø–ù–î–ï–ö–°–ê               ‚îÇ
‚îÇ  ‚îú‚îÄ ID                          ‚îú‚îÄ –Ø–Ω–¥–µ–∫—Å-—Ç–æ–≤–∞—Ä ID          ‚îÇ
‚îÇ  ‚îú‚îÄ SKU                         ‚îú‚îÄ –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ø–Ω–¥–µ–∫—Å–∞        ‚îÇ
‚îÇ  ‚îú‚îÄ –ù–∞–∑–≤–∞–Ω–∏–µ                    ‚îú‚îÄ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ø–Ω–¥–µ–∫—Å–∞        ‚îÇ
‚îÇ  ‚îî‚îÄ –û–ø–∏—Å–∞–Ω–∏–µ                    ‚îî‚îÄ –¶–µ–Ω–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å–µ          ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  –î–ê–ù–ù–´–ï E-CATALOG              –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨                 ‚îÇ
‚îÇ  ‚îú‚îÄ E-Cat ID                    ‚îú‚îÄ –ò–º—è                       ‚îÇ
‚îÇ  ‚îú‚îÄ –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä             ‚îú‚îÄ SKU –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è        ‚îÇ
‚îÇ  ‚îú‚îÄ –¶–µ–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤            ‚îú‚îÄ –ö–∞—Ç–∞–ª–æ–∂–Ω—ã–π –Ω–æ–º–µ—Ä         ‚îÇ
‚îÇ  ‚îî‚îÄ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏             ‚îú‚îÄ –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥        ‚îÇ
‚îÇ                                 ‚îî‚îÄ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã              ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´ (Extended Specs)                       ‚îÇ
‚îÇ  ‚îú‚îÄ –§–ò–ó–ò–ß–ï–°–ö–ò–ï                  ‚îú‚îÄ –ú–ï–•–ê–ù–ò–ß–ï–°–ö–ò–ï              ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –†–∞–∑–º–µ—Ä—ã (L√óW√óH)         ‚îÇ  ‚îú‚îÄ –ü—Ä–æ—á–Ω–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è      ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –í–µ—Å                      ‚îÇ  ‚îú‚îÄ –ü—Ä–æ—á–Ω–æ—Å—Ç—å –Ω–∞ –∏–∑–≥–∏–±    ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –û–±—ä—ë–º                    ‚îÇ  ‚îú‚îÄ –í—è–∑–∫–æ—Å—Ç—å              ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –ü–ª–æ—Ç–Ω–æ—Å—Ç—å                ‚îÇ  ‚îî‚îÄ –¢–≤—ë—Ä–¥–æ—Å—Ç—å             ‚îÇ
‚îÇ  ‚îÇ                              ‚îÇ                            ‚îÇ
‚îÇ  ‚îú‚îÄ –¢–ï–ü–õ–û–í–´–ï                    ‚îú‚îÄ –í–û–î–ù–´–ï                   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –¢–µ–ø–ª–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å         ‚îÇ  ‚îú‚îÄ –í–æ–¥–æ–ø–æ–≥–ª–æ—â–µ–Ω–∏–µ       ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –¢–µ–ø–ª–æ—ë–º–∫–æ—Å—Ç—å             ‚îÇ  ‚îú‚îÄ –í–æ–¥–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å        ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –¢–æ—á–∫–∞ –ø–ª–∞–≤–ª–µ–Ω–∏—è          ‚îÇ  ‚îî‚îÄ –ú–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å      ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –¢–µ–ø–ª. —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ         ‚îÇ                            ‚îÇ
‚îÇ  ‚îÇ                              ‚îÇ                            ‚îÇ
‚îÇ  ‚îî‚îÄ –•–ò–ú–ò–ß–ï–°–ö–ò–ï                  ‚îî‚îÄ –°–¢–ê–ù–î–ê–†–¢–´               ‚îÇ
‚îÇ     ‚îú‚îÄ –°–æ—Å—Ç–∞–≤                      ‚îú‚îÄ –ì–û–°–¢                   ‚îÇ
‚îÇ     ‚îú‚îÄ –ö–∏—Å–ª–æ—Ç–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å           ‚îú‚îÄ –°–ù–∏–ü                   ‚îÇ
‚îÇ     ‚îî‚îÄ –©–µ–ª–æ—á–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å            ‚îî‚îÄ ISO                    ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  –î–û–ö–£–ú–ï–ù–¢–´ –ò –ú–ï–î–ò–ê (Technical Documents)                      ‚îÇ
‚îÇ  ‚îú‚îÄ –§–û–¢–û–ì–†–ê–§–ò–ò                  ‚îú‚îÄ –ß–ï–†–¢–ï–ñ–ò                  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –û—Å–Ω–æ–≤–Ω–∞—è                  ‚îÇ  ‚îú‚îÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —á–µ—Ä—Ç—ë–∂   ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ –ì–∞–ª–µ—Ä–µ—è                   ‚îÇ  ‚îú‚îÄ CAD —á–µ—Ä—Ç–µ–∂–∏          ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –≠—Å–∫–∏–∑—ã                    ‚îÇ  ‚îî‚îÄ –ü–ª–∞–Ω—ã                ‚îÇ
‚îÇ  ‚îÇ                              ‚îÇ                            ‚îÇ
‚îÇ  ‚îú‚îÄ 3D –ú–û–î–ï–õ–ò                   ‚îú‚îÄ –î–û–ö–£–ú–ï–ù–¢–´                ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ STEP/IGES                ‚îÇ  ‚îú‚îÄ –ö–∞—Ç–∞–ª–æ–≥              ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ STL/OBJ                  ‚îÇ  ‚îú‚îÄ –ü–∞—Å–ø–æ—Ä—Ç              ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è            ‚îÇ  ‚îú‚îÄ –û—Ç—á—ë—Ç –∏—Å–ø—ã—Ç–∞–Ω–∏–π      ‚îÇ
‚îÇ  ‚îÇ                              ‚îÇ  ‚îî‚îÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è           ‚îÇ
‚îÇ  ‚îÇ                              ‚îÇ                            ‚îÇ
‚îÇ  ‚îî‚îÄ –í–ò–î–ï–û                       ‚îî‚îÄ AR/VR                    ‚îÇ
‚îÇ     ‚îú‚îÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è                ‚îú‚îÄ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä–æ–∫  ‚îÇ
‚îÇ     ‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞                   ‚îî‚îÄ 360¬∞ –ø—Ä–æ—Å–º–æ—Ç—Ä        ‚îÇ
‚îÇ     ‚îî‚îÄ –¢–µ—Å—Ç-–¥—Ä–∞–π–≤                                           ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  –ò–ò-–ê–ù–ê–õ–ò–ó (AI Analysis)                                      ‚îÇ
‚îÇ  ‚îú‚îÄ –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏                                     ‚îÇ
‚îÇ  ‚îú‚îÄ –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏                               ‚îÇ
‚îÇ  ‚îú‚îÄ –ü–æ–¥–æ–±–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã                                          ‚îÇ
‚îÇ  ‚îú‚îÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–Ω–∞–ª–æ–≥–∏                                    ‚îÇ
‚îÇ  ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏                                ‚îÇ
‚îÇ  ‚îî‚îÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ü–µ–Ω–∞                                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ü§ñ –ê–õ–ì–û–†–ò–¢–ú –ò–ò-–ê–ù–ê–õ–ò–ó–ê –ò –ü–û–ò–°–ö–ê –ê–ù–ê–õ–û–ì–û–í

```python
class ProductAnalysisEngine:
    """
    –î–≤–∏–∂–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é –ò–ò
    """
    
    def analyze_product(self, product_id):
        """
        –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–∞
        """
        product = self.get_product(product_id)
        
        # 1. –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –ü–†–ò–ó–ù–ê–ö–û–í
        features = self.extract_features(
            name=product.name,
            description=product.description,
            specs=product.extended_specs,
            documents=product.technical_documents
        )
        # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç embeddings –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
        # Example: ["–∫–∏—Ä–ø–∏—á", "–æ–±–ª–∏—Ü–æ–≤–æ—á–Ω—ã–π", "–∫—Ä–∞—Å–Ω—ã–π", "250x120x65", "–ú150"]
        
        # 2. –û–¶–ï–ù–ö–ê –ö–ê–ß–ï–°–¢–í–ê –ò–ù–§–û–†–ú–ê–¶–ò–ò
        quality_score = self.score_information_quality(product)
        # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        # - –ï—Å—Ç—å –ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
        # - –ü–æ–ª–Ω–æ—Ç–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π (0-100)
        # - –ù–∞–ª–∏—á–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —á–µ—Ä—Ç–µ–∂–µ–π
        # - –¢–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º)
        
        # 3. –ü–û–ò–°–ö –ü–û–•–û–ñ–ò–• –¢–û–í–ê–†–û–í
        similar_products = self.find_similar_products(
            features=features,
            specs=product.extended_specs,
            threshold=0.75  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ 75%
        )
        # –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è embeddings –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –æ—Ü–µ–Ω–∫–æ–π –ø–æ—Ö–æ–∂–µ—Å—Ç–∏
        
        # 4. –í–´–Ø–í–õ–ï–ù–ò–ï –ê–ù–ê–õ–û–ì–û–í
        analogs = self.find_analogs(product)
        # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        # - –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ª–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
        # - –°–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
        # - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
        # - –¶–µ–Ω–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö ¬±20%
        
        # 5. –ü–†–û–í–ï–†–ö–ê –ù–ê –ü–û–î–û–ó–†–ò–¢–ï–õ–¨–ù–û–°–¢–¨
        suspicious_flags = self.check_suspicious_patterns(product)
        # –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏:
        # - –¢–æ–≤–∞—Ä –Ω–∞–π–¥–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ 1 —Å–∞–π—Ç–µ
        # - –ù–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
        # - –ù–µ—Ä–µ–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
        # - –¶–µ–Ω–∞ - –≤—ã–±—Ä–æ—Å (outlier)
        # - –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤/—á–µ—Ä—Ç–µ–∂–µ–π
        # - –°–Ω—è—Ç–æ –ª–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
        
        # 6. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø –¶–ï–ù–´
        recommended_price = self.recommend_price(
            cost_price=product.cost_price,
            competitors=product.marketplace_prices,
            analogs=analogs
        )
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ü–µ–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
        # –£—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤
        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –º–∞—Ä–∂—É
        
        return {
            "features": features,
            "quality_score": quality_score,
            "similar_products": similar_products,
            "analogs": analogs,
            "suspicious_flags": suspicious_flags,
            "recommended_price": recommended_price,
            "ai_insights": self.generate_insights(product, features, analogs)
        }
    
    def find_analogs(self, product):
        """
        –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤-–∞–Ω–∞–ª–æ–≥–æ–≤
        """
        analogs = []
        
        # –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–¥–æ–±–∏—è:
        criteria = {
            "category": self.should_match(100),           # –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç
            "specs_similarity": self.should_be_above(90), # –°–ø–µ–∫–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç –Ω–∞ 90%+
            "standards": self.should_match(100),          # –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ
            "price_range": self.should_be_within(120),    # –¶–µ–Ω–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö ¬±20%
            "availability": self.should_be_true()         # –¢–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏
        }
        
        # –ü–æ–∏—Å–∫ –≤ –ë–î
        for candidate in self.search_candidates(product):
            similarity_score = self.calculate_similarity(
                product,
                candidate,
                criteria
            )
            
            if similarity_score >= 0.95:  # 95%+ –ø–æ—Ö–æ–∂–µ—Å—Ç—å
                analogs.append({
                    "product_id": candidate.id,
                    "name": candidate.name,
                    "similarity": similarity_score,
                    "reason": f"–ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π —Ç–æ–≤–∞—Ä (—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ {similarity_score*100:.0f}%)"
                })
        
        return analogs
    
    def extract_features_with_ai(self, text):
        """
        –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é –ò–ò
        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç embeddings –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
        """
        # –ó–∞–ø—Ä–æ—Å –∫ –ò–ò –º–æ–¥–µ–ª–∏ (GPT/Claude/YandexGPT)
        prompt = f"""
        –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç —Ç–æ–≤–∞—Ä–∞ –∏ –∏–∑–≤–ª–µ–∫–∏ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
        
        –¢–µ–∫—Å—Ç: {text}
        
        –í–µ—Ä–Ω–∏ JSON —Å –ø–æ–ª—è–º–∏:
        {{
            "type": "—Ç–∏–ø —Ç–æ–≤–∞—Ä–∞",
            "material": "–º–∞—Ç–µ—Ä–∏–∞–ª",
            "size": "—Ä–∞–∑–º–µ—Ä",
            "color": "—Ü–≤–µ—Ç",
            "properties": ["—Å–≤–æ–π—Å—Ç–≤–æ1", "—Å–≤–æ–π—Å—Ç–≤–æ2"],
            "standards": ["—Å—Ç–∞–Ω–¥–∞—Ä—Ç1"],
            "application": "–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ",
            "confidence": 0.95
        }}
        """
        
        features = self.call_gpt_api(prompt)
        return features
    
    def check_drawing_availability(self, product):
        """
        –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —á–µ—Ä—Ç–µ–∂–µ–π
        """
        drawings = product.technical_documents.filter(type__in=[
            'technical_drawing',
            '3d_model'
        ])
        
        return {
            "has_technical_drawing": drawings.filter(type='technical_drawing').exists(),
            "has_3d_model": drawings.filter(type='3d_model').exists(),
            "drawing_count": drawings.count(),
            "drawing_formats": list(set([d.file_format for d in drawings]))
        }
```

---

## üìã –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø YANDEX MARKET API

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
POST /categories/tree

Response:
{
  "categories": [
    {
      "id": 90411,
      "name": "–ö–∏—Ä–ø–∏—á –∏ –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏",
      "parent": 90410,
      "childrenCount": 15
    }
  ]
}
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
POST /category/90411/parameters

Response:
{
  "parameters": [
    {
      "id": 10001,
      "name": "–ú–∞—Ç–µ—Ä–∏–∞–ª",
      "type": "STRING",
      "required": true,
      "options": ["–ö—Ä–∞—Å–Ω—ã–π –∫–∏—Ä–ø–∏—á", "–ë–µ–ª—ã–π –∫–∏—Ä–ø–∏—á", ...]
    },
    {
      "id": 10002,
      "name": "–†–∞–∑–º–µ—Ä",
      "type": "STRING",
      "required": true
    },
    // ... –±–æ–ª–µ–µ 50 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  ]
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

```bash
POST /businesses/{businessId}/offer-mappings/update

# –ó–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–≤–∞—Ä–∞
# (—Å–º. –Ø–ù–î–ï–ö–°.–ú–ê–†–ö–ï–¢ API - –ü–û–õ–Ø –¢–û–í–ê–†–ê –≤—ã—à–µ)
```

---

## üìã –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø E-CATALOG API

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```bash
GET /api/products?category=building_materials&limit=100&offset=0

Query Parameters:
  - category: building_materials, insulation, roofing
  - manufacturer_id: –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å
  - price_min / price_max: –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
  - in_stock: true/false
  - sort: price, rating, popularity
```

---

## üîÑ –ü–û–¢–û–ö –û–ë–†–ê–ë–û–¢–ö–ò –¢–û–í–ê–†–ê

```
1. –ü–ê–†–°–ò–ù–ì –ú–ê–†–ö–ï–¢–ü–õ–ï–ô–°–ê
   ‚Üì
   –ü–µ—Ç—Ä–æ–≤–∏—á ‚Üí Leroy ‚Üí OBI ‚Üí E-Catalog
   ‚Üì
   ~100K —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ–±—Ä–∞–Ω–æ

2. –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø
   ‚Üì
   Merge —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é + —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
   ‚Üì
   ~70K —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

3. –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–Ø
   ‚Üì
   Parsing —Ç–µ–∫—Å—Ç–∞ ‚Üí –ò–ò –∞–Ω–∞–ª–∏–∑ ‚Üí –ü–æ–∏—Å–∫ –≤ OPENDATA BOT
   ‚Üì
   45K —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—é
   25K —Ç–æ–≤–∞—Ä–æ–≤ - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

4. –ü–û–õ–£–ß–ï–ù–ò–ï –¢–ï–•–°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–ô
   ‚Üì
   E-Catalog API ‚Üí –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ (API/PDF parsing) ‚Üí –ò–ò –∞–Ω–∞–ª–∏–∑
   ‚Üì
   –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ technical specs

5. –ü–û–õ–£–ß–ï–ù–ò–ï –ß–ï–†–¢–ï–ñ–ï–ô
   ‚Üì
   E-Catalog ‚Üí –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ ‚Üí CAD –±–∞–∑—ã ‚Üí 3D –º–æ–¥–µ–ª–∏
   ‚Üì
   –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ products_technical_documents

6. –ò–ò-–ê–ù–ê–õ–ò–ó –ò –°–û–ó–î–ê–ù–ò–ï –ê–ù–ê–õ–û–ì–û–í
   ‚Üì
   Embeddings ‚Üí Similar products ‚Üí Analogs detection
   ‚Üì
   –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ ai_analysis —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

7. –ü–†–û–í–ï–†–ö–ê –ù–ê –ü–û–î–û–ó–†–ò–¢–ï–õ–¨–ù–û–°–¢–¨
   ‚Üì
   –ü—Ä–æ–≤–µ—Ä–∫–∞: 1 –∏—Å—Ç–æ—á–Ω–∏–∫? –ù–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è? –ù–µ—Ä–µ–∞–ª—å–Ω—ã–µ —Å–ø–µ–∫–∏?
   ‚Üì
   –¢–æ–≤–∞—Ä—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –≤ suspicious_products

8. –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ñ–ï
   ‚Üì
   –¢–æ–≤–∞—Ä –∏–º–µ–µ—Ç:
   ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   ‚úÖ –ê–Ω–∞–ª–æ–≥–∏
   ‚úÖ –ß–µ—Ä—Ç–µ–∂–∏
   ‚úÖ –ò–ò-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
   ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
```

---

## ‚úÖ –í–´–í–û–î–´

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ë–î:**

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è** (–¥–ª—è –ø—Ä–æ–¥–∞–∂–∏):
   - SKU, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –¶–µ–Ω–∞, –Ω–∞–ª–∏—á–∏–µ
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –∫–∞—Ç–∞–ª–æ–∂–Ω—ã–π –Ω–æ–º–µ—Ä

2. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞):
   - –†–∞–∑–º–µ—Ä—ã, –≤–µ—Å, –æ–±—ä—ë–º
   - –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ (–ø—Ä–æ—á–Ω–æ—Å—Ç—å, –≤—è–∑–∫–æ—Å—Ç—å)
   - –¢–µ–ø–ª–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
   - –•–∏–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã (–ì–û–°–¢/–°–ù–∏–ü/ISO)

3. **–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —á–µ—Ä—Ç–µ–∂–∏** (–¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π):
   - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —á–µ—Ä—Ç–µ–∂–∏ (DWG/PDF)
   - 3D –º–æ–¥–µ–ª–∏ (STEP/IGES/STL)
   - –ö–∞—Ç–∞–ª–æ–≥–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
   - –ü–∞—Å–ø–æ—Ä—Ç–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

4. **–ò–ò –∞–Ω–∞–ª–∏–∑** (–¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π):
   - –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
   - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0-100)
   - –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–Ω–∞–ª–æ–≥–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ü–µ–Ω–∞

**–ò–¢–û–ì–û: ~200 –ø–æ–ª–µ–π –Ω–∞ —Ç–æ–≤–∞—Ä (–≤ —Ç.—á. nested —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)**

---

**–í–µ—Ä—Å–∏—è:** 1.0 | **–î–∞—Ç–∞:** 11.01.2026 | **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –†–ê–ó–†–ê–ë–û–¢–ö–ï
